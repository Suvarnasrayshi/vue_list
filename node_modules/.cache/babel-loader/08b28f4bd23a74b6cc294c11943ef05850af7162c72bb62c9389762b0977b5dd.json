{"ast":null,"code":"import { computed, onMounted, ref } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport PostForm from \"./PostForm.vue\";\nconst itemsPerPage = 5;\nexport default {\n  __name: 'userDetails',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const userId = route.params.id; // Ensure it's route.params.id\n    const todos = ref([]);\n    const posts = ref([]);\n    const todoPage = ref(0);\n    const postPage = ref(0);\n    const showPostForm = ref(false);\n    const selectedUserId = ref(null);\n    onMounted(async () => {\n      const responseTodos = await fetch(`https://jsonplaceholder.typicode.com/users/${userId}/todos`);\n      todos.value = await responseTodos.json();\n      const responsePosts = await fetch(`https://jsonplaceholder.typicode.com/users/${userId}/posts`);\n      posts.value = await responsePosts.json();\n    });\n    const paginatedTodos = computed(() => {\n      const start = todoPage.value * itemsPerPage;\n      return todos.value.slice(start, start + itemsPerPage);\n    });\n    const paginatedPosts = computed(() => {\n      const start = postPage.value * itemsPerPage;\n      return posts.value.slice(start, start + itemsPerPage);\n    });\n    const hasMoreTodos = computed(() => {\n      return (todoPage.value + 1) * itemsPerPage < todos.value.length;\n    });\n    const hasMorePosts = computed(() => {\n      return (postPage.value + 1) * itemsPerPage < posts.value.length;\n    });\n    const nextTodoPage = () => {\n      if (hasMoreTodos.value) {\n        todoPage.value += 1;\n      }\n    };\n    const nextPostPage = () => {\n      if (hasMorePosts.value) {\n        postPage.value += 1;\n      }\n    };\n    const togglePostForm = id => {\n      showPostForm.value = !showPostForm.value;\n      selectedUserId.value = id;\n    };\n    const __returned__ = {\n      route,\n      userId,\n      todos,\n      posts,\n      todoPage,\n      postPage,\n      itemsPerPage,\n      showPostForm,\n      selectedUserId,\n      paginatedTodos,\n      paginatedPosts,\n      hasMoreTodos,\n      hasMorePosts,\n      nextTodoPage,\n      nextPostPage,\n      togglePostForm,\n      computed,\n      onMounted,\n      ref,\n      get useRoute() {\n        return useRoute;\n      },\n      PostForm\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","onMounted","ref","useRoute","PostForm","itemsPerPage","route","userId","params","id","todos","posts","todoPage","postPage","showPostForm","selectedUserId","responseTodos","fetch","value","json","responsePosts","paginatedTodos","start","slice","paginatedPosts","hasMoreTodos","length","hasMorePosts","nextTodoPage","nextPostPage","togglePostForm"],"sources":["/home/suvarna-sinha/Documents/gitvue/vue_list/src/components/userDetails.vue"],"sourcesContent":["<template>\n  <div>\n    <h2>Todo</h2>\n    <ul class=\"user-detail\">\n      <li v-for=\"item in paginatedTodos\" :key=\"item.id\" class=\"todo-item\">\n        {{ item.id }} {{ item.title }} -\n        <strong :style=\"{ color: item.completed ? '#28a745' : '#dc3545' }\">\n          {{ item.completed ? 'Completed' : 'Pending' }}\n        </strong>\n      </li>\n    </ul>\n    <button @click=\"nextTodoPage\" :disabled=\"!hasMoreTodos\" class=\"lastpage\">More Todos</button>\n\n    <h2>Post</h2>\n    <ul>\n      <li v-for=\"item in paginatedPosts\" :key=\"item.id\">\n        <strong>{{ item.title }}</strong> ----- {{ item.id }} {{ item.body }}\n        <button @click=\"togglePostForm(item.id)\">Add Post</button>\n        <div v-if=\"showPostForm && selectedUserId === item.id\">\n          <PostForm :userId=\"selectedUserId\" />\n        </div>\n      </li>\n    </ul>\n    <button @click=\"nextPostPage\" :disabled=\"!hasMorePosts\" class=\"lastpage\">More Posts</button>\n  </div>\n</template>\n\n<script setup>\nimport { computed, onMounted, ref } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport PostForm from \"./PostForm.vue\";\n\nconst route = useRoute();\nconst userId = route.params.id; // Ensure it's route.params.id\nconst todos = ref([]);\nconst posts = ref([]);\n\nconst todoPage = ref(0);\nconst postPage = ref(0);\nconst itemsPerPage = 5;\n\nconst showPostForm = ref(false);\nconst selectedUserId = ref(null);\n\nonMounted(async () => {\n  const responseTodos = await fetch(`https://jsonplaceholder.typicode.com/users/${userId}/todos`);\n  todos.value = await responseTodos.json();\n\n  const responsePosts = await fetch(`https://jsonplaceholder.typicode.com/users/${userId}/posts`);\n  posts.value = await responsePosts.json();\n});\n\nconst paginatedTodos = computed(() => {\n  const start = todoPage.value * itemsPerPage;\n  return todos.value.slice(start, start + itemsPerPage);\n});\n\nconst paginatedPosts = computed(() => {\n  const start = postPage.value * itemsPerPage;\n  return posts.value.slice(start, start + itemsPerPage);\n});\n\nconst hasMoreTodos = computed(() => {\n  return (todoPage.value + 1) * itemsPerPage < todos.value.length;\n});\n\nconst hasMorePosts = computed(() => {\n  return (postPage.value + 1) * itemsPerPage < posts.value.length;\n});\n\nconst nextTodoPage = () => {\n  if (hasMoreTodos.value) {\n    todoPage.value += 1;\n  }\n};\n\nconst nextPostPage = () => {\n  if (hasMorePosts.value) {\n    postPage.value += 1;\n  }\n};\n\nconst togglePostForm = (id) => {\n  showPostForm.value = !showPostForm.value;\n  selectedUserId.value = id;\n};\n</script>\n\n<style scoped>\n.user-detail {\n  list-style-type: none;\n  padding: 0;\n}\n\n.todo-item {\n  background-color: #fff;\n  margin-bottom: 10px;\n  padding: 10px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.lastpage {\n  background-color: #333;\n  color: white;\n  border: none;\n  padding: 5px 10px;\n  cursor: pointer;\n}\n\nbutton[disabled] {\n  background-color: #999;\n  cursor: not-allowed;\n}\n</style>"],"mappings":"AA4BA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,GAAG,QAAQ,KAAK;AAC9C,SAASC,QAAQ,QAAQ,YAAY;AACrC,OAAOC,QAAQ,MAAM,gBAAgB;AASrC,MAAMC,YAAY,GAAG,CAAC;;;;;;;IAPtB,MAAMC,KAAK,GAAGH,QAAQ,CAAC,CAAC;IACxB,MAAMI,MAAM,GAAGD,KAAK,CAACE,MAAM,CAACC,EAAE,CAAC,CAAC;IAChC,MAAMC,KAAK,GAAGR,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMS,KAAK,GAAGT,GAAG,CAAC,EAAE,CAAC;IAErB,MAAMU,QAAQ,GAAGV,GAAG,CAAC,CAAC,CAAC;IACvB,MAAMW,QAAQ,GAAGX,GAAG,CAAC,CAAC,CAAC;IAGvB,MAAMY,YAAY,GAAGZ,GAAG,CAAC,KAAK,CAAC;IAC/B,MAAMa,cAAc,GAAGb,GAAG,CAAC,IAAI,CAAC;IAEhCD,SAAS,CAAC,YAAY;MACpB,MAAMe,aAAa,GAAG,MAAMC,KAAK,CAAC,8CAA8CV,MAAM,QAAQ,CAAC;MAC/FG,KAAK,CAACQ,KAAK,GAAG,MAAMF,aAAa,CAACG,IAAI,CAAC,CAAC;MAExC,MAAMC,aAAa,GAAG,MAAMH,KAAK,CAAC,8CAA8CV,MAAM,QAAQ,CAAC;MAC/FI,KAAK,CAACO,KAAK,GAAG,MAAME,aAAa,CAACD,IAAI,CAAC,CAAC;IAC1C,CAAC,CAAC;IAEF,MAAME,cAAc,GAAGrB,QAAQ,CAAC,MAAM;MACpC,MAAMsB,KAAK,GAAGV,QAAQ,CAACM,KAAK,GAAGb,YAAY;MAC3C,OAAOK,KAAK,CAACQ,KAAK,CAACK,KAAK,CAACD,KAAK,EAAEA,KAAK,GAAGjB,YAAY,CAAC;IACvD,CAAC,CAAC;IAEF,MAAMmB,cAAc,GAAGxB,QAAQ,CAAC,MAAM;MACpC,MAAMsB,KAAK,GAAGT,QAAQ,CAACK,KAAK,GAAGb,YAAY;MAC3C,OAAOM,KAAK,CAACO,KAAK,CAACK,KAAK,CAACD,KAAK,EAAEA,KAAK,GAAGjB,YAAY,CAAC;IACvD,CAAC,CAAC;IAEF,MAAMoB,YAAY,GAAGzB,QAAQ,CAAC,MAAM;MAClC,OAAO,CAACY,QAAQ,CAACM,KAAK,GAAG,CAAC,IAAIb,YAAY,GAAGK,KAAK,CAACQ,KAAK,CAACQ,MAAM;IACjE,CAAC,CAAC;IAEF,MAAMC,YAAY,GAAG3B,QAAQ,CAAC,MAAM;MAClC,OAAO,CAACa,QAAQ,CAACK,KAAK,GAAG,CAAC,IAAIb,YAAY,GAAGM,KAAK,CAACO,KAAK,CAACQ,MAAM;IACjE,CAAC,CAAC;IAEF,MAAME,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIH,YAAY,CAACP,KAAK,EAAE;QACtBN,QAAQ,CAACM,KAAK,IAAI,CAAC;MACrB;IACF,CAAC;IAED,MAAMW,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIF,YAAY,CAACT,KAAK,EAAE;QACtBL,QAAQ,CAACK,KAAK,IAAI,CAAC;MACrB;IACF,CAAC;IAED,MAAMY,cAAc,GAAIrB,EAAE,IAAK;MAC7BK,YAAY,CAACI,KAAK,GAAG,CAACJ,YAAY,CAACI,KAAK;MACxCH,cAAc,CAACG,KAAK,GAAGT,EAAE;IAC3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}